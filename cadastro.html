<!DOCTYPE html>
<html lang="pt-PT">
<head>
  <meta charset="UTF-8">
  <title>Cadastrar Jogo</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="team-header">
    <img src="https://babadecascais.blob.core.windows.net/patrocinadores/BABA TRANSP (1).jpg" 
         alt="Baba de Cascais" class="team-logo">
    <h1>Cadastrar Jogo</h1>
  </header>

  <form id="cadastroForm">
    <label for="time">Time:</label>
    <select id="time" name="time" required>
      <option value="">Selecione um time</option>
      <option value="Baba Semanal">Baba Semanal</option>
      <option value="Veteranos do Baba de Cascais">Veteranos do Baba de Cascais</option>
      <option value="Baba de Cascais">Baba de Cascais</option>
    </select>

    <label for="data">Data:</label>
    <input type="date" id="data" name="data" required>

    <label for="hora">Hora:</label>
    <input type="time" id="hora" name="hora" required>

    <label for="local">Local:</label>
    <input type="text" id="local" name="local" required>

    <div id="adversarioField">
      <label for="adversario">Adversário:</label>
      <input type="text" id="adversario" name="adversario">
    </div>

    <label for="escalados">Escalados (separados por vírgula):</label>
    <input type="text" id="escalados" name="escalados" required>

    <button type="submit">Cadastrar Jogo</button>
  </form>

  <script>
    const form = document.getElementById("cadastroForm");
    const adversarioField = document.getElementById("adversarioField");
    const timeSelect = document.getElementById("time");

    // Esconde adversário se for Baba Semanal
    timeSelect.addEventListener("change", () => {
      if (timeSelect.value === "Baba Semanal") {
        adversarioField.style.display = "none";
      } else {
        adversarioField.style.display = "block";
      }
    });

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const jogo = {
        data: document.getElementById("data").value,
        hora: document.getElementById("hora").value,
        local: document.getElementById("local").value,
        escalados: document.getElementById("escalados").value.split(",").map(j => j.trim())
      };

      if (timeSelect.value !== "Baba Semanal") {
        jogo.adversario = document.getElementById("adversario").value;
      }

      // Aqui você teria que enviar esse objeto para o JSON no Azure Blob
      console.log("Novo jogo:", jogo);

      alert("Jogo cadastrado com sucesso!");
    });
  </script>
</body>
</html>
